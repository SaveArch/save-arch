@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap');

@layer base {
  :root {
    /* Тёплая археологическая палитра: песок, камень, охра */
    --background: 35 32% 92%;
    --foreground: 220 25% 14%;

    /* Археологическая текстура с артефактами - ЗАМЕТНАЯ */
    --bg-texture: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500' height='500' viewBox='0 0 500 500'%3E%3Cdefs%3E%3CradialGradient id='sand' cx='50%25' cy='38%25' r='75%25'%3E%3Cstop offset='0%25' stop-color='%23f6ecda'/%3E%3Cstop offset='45%25' stop-color='%23efe0c6'/%3E%3Cstop offset='100%25' stop-color='%23e0cfaf'/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect width='500' height='500' fill='url(%23sand)'/%3E%3Cg fill='%23a08060' fill-opacity='0.25' stroke='%238b7355' stroke-opacity='0.2' stroke-width='1'%3E%3C!-- Череп 1 (крупный) --%3E%3Cellipse cx='60' cy='70' rx='22' ry='26'/%3E%3Cellipse cx='52' cy='62' rx='5' ry='7' fill='%23705840' fill-opacity='0.3'/%3E%3Cellipse cx='68' cy='62' rx='5' ry='7' fill='%23705840' fill-opacity='0.3'/%3E%3Cpath d='M55 80 L60 88 L65 80' fill='none' stroke-width='2'/%3E%3Cpath d='M50 90 L52 95 L56 92 L60 96 L64 92 L68 95 L70 90' fill='none' stroke-width='1.5'/%3E%3C!-- Глиняный горшок с орнаментом --%3E%3Cpath d='M400 100 Q385 115 388 145 Q392 175 415 180 Q438 175 442 145 Q445 115 430 100 Z' stroke-width='1.5'/%3E%3Cellipse cx='415' cy='100' rx='18' ry='6'/%3E%3Cpath d='M392 125 Q415 130 438 125' fill='none'/%3E%3Cpath d='M394 140 Q415 145 436 140' fill='none'/%3E%3Cpath d='M396 155 Q415 158 434 155' fill='none'/%3E%3C!-- Длинные кости --%3E%3Cpath d='M220 200 L280 195' stroke-width='4' stroke-linecap='round'/%3E%3Ccircle cx='218' cy='198' r='6'/%3E%3Ccircle cx='222' cy='203' r='5'/%3E%3Ccircle cx='280' cy='193' r='6'/%3E%3Ccircle cx='282' cy='198' r='5'/%3E%3C!-- Наконечник копья --%3E%3Cpath d='M120 280 L145 240 L170 280 L145 270 Z' stroke-width='1.5'/%3E%3Cline x1='145' y1='280' x2='145' y2='320' stroke-width='3'/%3E%3C!-- Раскоп (археологическая сетка) --%3E%3Crect x='300' y='220' width='90' height='90' fill='%23c4a882' fill-opacity='0.15' stroke-width='2'/%3E%3Cline x1='330' y1='220' x2='330' y2='310' stroke-width='1'/%3E%3Cline x1='360' y1='220' x2='360' y2='310' stroke-width='1'/%3E%3Cline x1='300' y1='250' x2='390' y2='250' stroke-width='1'/%3E%3Cline x1='300' y1='280' x2='390' y2='280' stroke-width='1'/%3E%3Ccircle cx='315' cy='235' r='4' fill='%23705840' fill-opacity='0.4'/%3E%3Ccircle cx='375' cy='295' r='6' fill='%23705840' fill-opacity='0.3'/%3E%3C!-- Большая амфора --%3E%3Cpath d='M70 350 Q50 370 55 420 Q60 465 85 475 Q110 465 115 420 Q120 370 100 350' fill='none' stroke-width='2'/%3E%3Cellipse cx='85' cy='348' rx='18' ry='7'/%3E%3Cpath d='M55 380 Q40 370 35 385' fill='none' stroke-width='2'/%3E%3Cpath d='M115 380 Q130 370 135 385' fill='none' stroke-width='2'/%3E%3Cpath d='M62 400 Q85 408 108 400' fill='none'/%3E%3Cpath d='M60 430 Q85 440 110 430' fill='none'/%3E%3C!-- Петроглиф (олень) --%3E%3Cpath d='M430 380 L440 360 L450 350 M440 360 L430 350 M440 360 L440 400 L430 420 M440 400 L450 420 M440 375 L420 385 M440 375 L460 385' fill='none' stroke-width='2.5'/%3E%3C!-- Древняя монета --%3E%3Ccircle cx='200' cy='420' r='25' fill='%23c4a060' fill-opacity='0.2' stroke-width='2'/%3E%3Ccircle cx='200' cy='420' r='18' fill='none'/%3E%3Cpath d='M190 415 L195 425 L210 410' fill='none' stroke-width='1.5'/%3E%3C!-- Череп 2 (вид сбоку) --%3E%3Cpath d='M460 60 Q480 50 485 70 Q490 95 475 100 Q460 100 455 85 Q450 70 460 60 Z' stroke-width='1.5'/%3E%3Ccircle cx='472' cy='72' r='4' fill='%23705840' fill-opacity='0.3'/%3E%3Cpath d='M458 92 L465 95 L458 98' fill='none'/%3E%3C!-- Фрагменты керамики --%3E%3Cpath d='M30 200 Q50 190 60 210 Q55 235 35 230 Q20 220 30 200 Z'/%3E%3Cpath d='M38 208 L50 218' fill='none' stroke-width='1.5'/%3E%3Cpath d='M42 215 L52 212' fill='none' stroke-width='1.5'/%3E%3Cpath d='M35 220 L48 225' fill='none' stroke-width='1.5'/%3E%3C!-- Кисточка археолога --%3E%3Crect x='250' y='60' width='5' height='35' rx='2'/%3E%3Cpath d='M247 95 L250 105 L252 95 L255 105 L258 95' fill='none' stroke-width='1.5'/%3E%3C!-- Лопата --%3E%3Crect x='175' y='80' width='25' height='6' rx='1'/%3E%3Cline x1='188' y1='86' x2='188' y2='130' stroke-width='3'/%3E%3C!-- Стратиграфия (слои почвы) --%3E%3Cpath d='M150 480 Q200 470 250 482 Q300 475 350 485' fill='none' stroke-width='2' stroke-opacity='0.3'/%3E%3Cpath d='M150 490 Q210 485 270 492 Q330 488 390 495' fill='none' stroke-width='2' stroke-opacity='0.25'/%3E%3C!-- Рыбьи кости --%3E%3Cpath d='M320 400 L360 400' stroke-width='2'/%3E%3Cpath d='M330 395 L330 405 M340 393 L340 407 M350 395 L350 405' fill='none' stroke-width='1.5'/%3E%3Cpath d='M320 398 L315 395 M320 402 L315 405' fill='none'/%3E%3C!-- Каменный топор --%3E%3Cellipse cx='480' cy='180' rx='20' ry='12' transform='rotate(-30 480 180)'/%3E%3Cline x1='465' y1='192' x2='445' y2='220' stroke-width='4'/%3E%3C!-- Песочные частицы (много) --%3E%3Ccircle cx='18' cy='32' r='2'/%3E%3Ccircle cx='98' cy='44' r='1.5'/%3E%3Ccircle cx='182' cy='152' r='2'/%3E%3Ccircle cx='38' cy='148' r='2.5'/%3E%3Ccircle cx='290' cy='126' r='1.8'/%3E%3Ccircle cx='342' cy='74' r='2'/%3E%3Ccircle cx='264' cy='152' r='1.5'/%3E%3Ccircle cx='126' cy='382' r='2'/%3E%3Ccircle cx='395' cy='450' r='2.2'/%3E%3Ccircle cx='475' cy='280' r='1.8'/%3E%3Ccircle cx='55' cy='480' r='2'/%3E%3Ccircle cx='240' cy='340' r='1.5'/%3E%3C/g%3E%3C/svg%3E");

    --card: 35 30% 97%;
    --card-foreground: 220 25% 15%;

    --popover: 35 30% 97%;
    --popover-foreground: 220 25% 15%;

    /* Глубокий синий как научный акцент */
    --primary: 215 70% 38%;
    --primary-foreground: 0 0% 100%;

    /* Вторичные песочные тона */
    --secondary: 38 35% 90%;
    --secondary-foreground: 220 25% 18%;

    --muted: 40 20% 90%;
    --muted-foreground: 220 15% 45%;

    --accent: 190 55% 40%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 68% 48%;
    --destructive-foreground: 0 0% 100%;

    /* Status colors for markers */
    --status-new: 45 95% 50%;
    --status-processing: 200 85% 50%;
    --status-closed: 142 70% 45%;

    /* Risk markers */
    --marker-risk: 0 84% 60%;
    --marker-human: 25 95% 53%;
    --marker-digitized: 215 85% 55%;

    --border: 38 24% 84%;
    --input: 38 24% 84%;
    --ring: 215 70% 38%;
    --radius: 0.75rem;

    --gradient-hero: linear-gradient(180deg, hsl(35 35% 95%) 0%, hsl(34 30% 90%) 40%, hsl(32 24% 86%) 100%);
    --gradient-card: linear-gradient(180deg, hsl(35 30% 98%) 0%, hsl(35 26% 94%) 100%);
    --gradient-accent: linear-gradient(135deg, hsl(215 70% 40%) 0%, hsl(190 60% 45%) 100%);
    --gradient-parchment: linear-gradient(135deg, hsl(35 34% 93%) 0%, hsl(33 30% 89%) 50%, hsl(31 26% 86%) 100%);

    --shadow-soft: 0 6px 30px -10px hsl(30 20% 20% / 0.18);
    --shadow-card: 0 14px 40px -18px hsl(30 20% 15% / 0.32);
    --shadow-elevated: 0 26px 70px -28px hsl(30 20% 10% / 0.45);

    --sidebar-background: 45 25% 98%;
    --sidebar-foreground: 220 25% 15%;
    --sidebar-primary: 215 70% 40%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 40 35% 93%;
    --sidebar-accent-foreground: 220 25% 20%;
    --sidebar-border: 40 25% 88%;
    --sidebar-ring: 215 70% 40%;
  }

  .dark {
    --background: 220 25% 8%;
    --foreground: 45 20% 95%;

    --card: 220 22% 12%;
    --card-foreground: 45 20% 95%;

    --popover: 220 22% 12%;
    --popover-foreground: 45 20% 95%;

    --primary: 215 75% 55%;
    --primary-foreground: 220 25% 8%;

    --secondary: 220 18% 18%;
    --secondary-foreground: 45 20% 90%;

    --muted: 220 15% 16%;
    --muted-foreground: 40 15% 60%;

    --accent: 190 65% 50%;
    --accent-foreground: 220 25% 8%;

    --destructive: 0 65% 45%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 18% 20%;
    --input: 220 18% 20%;
    --ring: 215 75% 55%;

    --sidebar-background: 220 22% 10%;
    --sidebar-foreground: 45 20% 95%;
    --sidebar-primary: 215 75% 55%;
    --sidebar-primary-foreground: 220 25% 8%;
    --sidebar-accent: 220 18% 16%;
    --sidebar-accent-foreground: 45 20% 90%;
    --sidebar-border: 220 18% 20%;
    --sidebar-ring: 215 75% 55%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply text-foreground font-sans antialiased;
    font-family: 'Inter', sans-serif;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', serif;
  }
}

@layer components {
  /* Чистый фон для секций, где паттерн мешает */
  .clean-section {
    position: relative;
    background: linear-gradient(180deg, hsl(35 30% 96%) 0%, hsl(35 28% 94%) 100%);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), inset 0 -1px 0 rgba(0,0,0,0.05);
  }

  .clean-section::before {
    content: '';
    position: absolute;
    inset: 0;
    background: hsl(35 30% 96% / 0.98);
    z-index: 0;
  }

  .clean-section > * {
    position: relative;
    z-index: 1;
  }

  .btn-hero {
    @apply bg-primary text-primary-foreground px-8 py-4 rounded-xl font-semibold text-lg
           shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105
           active:scale-95;
  }

  .btn-hero-outline {
    @apply border-2 border-primary text-primary bg-transparent px-8 py-4 rounded-xl 
           font-semibold text-lg hover:bg-primary hover:text-primary-foreground
           transition-all duration-300;
  }

  .card-heritage {
    @apply bg-card rounded-2xl shadow-card overflow-hidden transition-all duration-300
           hover:shadow-elevated hover:-translate-y-1 border border-border;
  }

  .section-padding {
    @apply py-16 md:py-24 px-4 md:px-8;
  }

  .container-main {
    @apply max-w-7xl mx-auto;
  }

  .gradient-hero {
    background: var(--gradient-hero);
  }

  .gradient-accent {
    background: var(--gradient-accent);
  }

  .status-new {
    @apply bg-yellow-100 text-yellow-800 border-yellow-300;
  }

  .status-processing {
    @apply bg-blue-100 text-blue-800 border-blue-300;
  }

  .status-closed {
    @apply bg-green-100 text-green-800 border-green-300;
  }
}

/* Leaflet custom styles */
.leaflet-container {
  font-family: 'Inter', sans-serif;
  border-radius: var(--radius);
  background: transparent !important;
}

.leaflet-popup-content-wrapper {
  border-radius: 1rem;
  box-shadow: var(--shadow-card);
}

.leaflet-popup-content {
  margin: 0;
  padding: 0;
}
